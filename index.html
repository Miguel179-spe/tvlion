<!DOCTYPE html> 
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IPTV DEV - Sistema Dinámico</title>

<style>
    body {
        font-family: sans-serif;
        background-color: #1a1a1a;
        color: #ffffff;
        margin: 0;
        padding: 0;
        background-image: linear-gradient(to right, #2c2c2c, #4a3443, #723b32);
        height: 100vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .header {
        display: flex;
        justify-content: space-between;
        padding: 10px 20px;
        background-color: #131313;
    }

    .nav a {
        color: #fff;
        text-decoration: none;
        padding: 10px 15px;
        font-size: 1.1em;
    }

    .nav a.active {
        color: #e5b00e;
    }

    .search-bar {
        width: 300px;
        height: 40px;
        background-color: #333;
        border-radius: 5px;
        display: flex;
        align-items: center;
        padding-left: 10px;
        color: #aaa;
    }

    .main-content {
        display: flex;
        flex: 1;
        overflow: hidden;
    }

    /* CATEGORÍAS */
    .category-menu {
        width: 220px;
        overflow-y: auto;
        background-color: #2b2a4e;
    }

    .category-item {
        padding: 15px 20px;
        background: #2b2a4e;
        display: flex;
        justify-content: space-between;
        cursor: pointer;
        border-bottom: 1px solid #1a1a1a;
    }

    .category-item:hover,
    .category-item.active {
        background-color: #4f4c80;
        font-weight: bold;
    }

    /* CANALES */
    .channel-list {
        width: 300px;
        background-color: #2b2a4e;
        overflow-y: auto;
    }

    .channel-item {
        padding: 15px 20px;
        display: flex;
        align-items: center;
        background: linear-gradient(to right, #4c304d, #3c325c);
        cursor: pointer;
        border-bottom: 1px solid #1a1a1a;
    }

    .channel-item.active {
        background: linear-gradient(to right, #7b597c, #6c5f93);
    }

    .channel-number {
        margin-right: 10px;
        font-weight: bold;
        color: #e5b00e;
    }

    .video-area {
        flex: 1;
        padding: 20px;
        display: flex;
        flex-direction: column;
    }

    .video-player-container {
        width: 100%;
        height: 80%;
        background-color: #000;
        border-radius: 5px;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
    }

    .video-player {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #fff;
    }

    .video-player video {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    .controls {
        margin-top: 10px;
        display: flex;
        justify-content: flex-end;
        gap: 15px;
    }

    .control-button {
        padding: 10px 20px;
        background-color: #7b597c;
        border: none;
        border-radius: 5px;
        color: white;
        cursor: pointer;
        font-weight: bold;
    }
	
    /* Indicador de pantalla completa */
    .fullscreen-indicator {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0,0,0,0.7);
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 0.8rem;
        z-index: 1000;
        display: none;
    }

    /* Estilos para pantalla completa */
    .video-player-container:fullscreen {
        width: 100vw;
        height: 100vh;
        background: #000;
    }

    .video-player-container:fullscreen video {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
    <div class="nav">
        <a class="active">En vivo</a>
    </div>
    <div class="search-bar">Buscar...</div>
    <div class="logo">IPTV-DEV</div>
</div>

<!-- CONTENIDO PRINCIPAL -->
<div class="main-content">

    <!-- CATEGORÍAS -->
    <div class="category-menu" id="categoryMenu"></div>

    <!-- CANALES -->
    <div class="channel-list" id="channelList"></div>

    <!-- VIDEO -->
    <div class="video-area">
        <div class="video-player-container" id="videoPlayerContainer">
            <div class="video-player" id="videoPlayer">
                Selecciona un canal
            </div>
            <div class="fullscreen-indicator" id="fullscreenIndicator">
                Pantalla Completa
            </div>
        </div>
		
        <div class="controls">
            <button class="control-button">Ponerse al día</button>
			<button class="control-button" id="fullscreenButton">Pantalla Completa</button>
            <button class="control-button">Agregar a favoritos</button>
			
        </div>
    </div>

</div>

<script>
/* EJEMPLO DE PLAYLIST IPTV */
const playlist = {
    "Todos": [
        {num: 1, name: "Catorce TV", url: "https://tv.livestreaminggroup.info:3052/live/catorcetvlive.m3u8"},
        {num: 2, name: "entelevision", url: "https://live.mycamtv.com/teen.m3u8"},
        {num: 3, name: "televida live", url: "http://31.43.191.125:8080/VIP01847172508490996/31fbace66040/243"},
        {num: 4, name: "Canal del Sol", url: "http://example.com/d.m3u8"},
		
    ],
    "Noticias": [
        {num: 1, name: "CNN Español", url: "http://stream.com/cnn.m3u8"},
        {num: 2, name: "RT Noticias", url: "http://stream.com/rt.m3u8"}
    ],
    "Deportes": [
        {num: 1, name: "ESPN", url: "http://stream.com/espn.m3u8"},
        {num: 2, name: "FOX Sports", url: "http://stream.com/fox.m3u8"}
    ]
};

/* ELEMENTOS HTML */
const categoryMenu = document.getElementById("categoryMenu");
const channelList = document.getElementById("channelList");
const videoPlayer = document.getElementById("videoPlayer");
const videoPlayerContainer = document.getElementById("videoPlayerContainer");

/* CARGAR CATEGORÍAS */
function loadCategories() {
    categoryMenu.innerHTML = "";

    Object.keys(playlist).forEach((cat, index) => {
        const div = document.createElement("div");
        div.className = "category-item" + (index === 0 ? " active" : "");
        div.innerHTML = `<span>${cat}</span><span>${playlist[cat].length}</span>`;
        div.onclick = () => selectCategory(cat, div);
        categoryMenu.appendChild(div);
    });

    // cargar primera categoría
    loadChannels(Object.keys(playlist)[0]);
}

/* CARGAR CANALES */
function loadChannels(category) {
    channelList.innerHTML = "";

    playlist[category].forEach(ch => {
        const div = document.createElement("div");
        div.className = "channel-item";
        div.innerHTML = `
            <span class="channel-number">${ch.num}</span>
            <span>${ch.name}</span>
        `;
        div.onclick = () => playChannel(ch, div);
        channelList.appendChild(div);
    });
}

/* SELECCIONAR CATEGORÍA */
function selectCategory(cat, elem) {
    document.querySelectorAll(".category-item").forEach(e => e.classList.remove("active"));
    elem.classList.add("active");
    loadChannels(cat);
}

/* REPRODUCIR CANAL */
function playChannel(channel, elem) {
    document.querySelectorAll(".channel-item").forEach(e => e.classList.remove("active"));
    elem.classList.add("active");

    videoPlayer.innerHTML = `
        <video width="100%" height="100%" controls autoplay>
            <source src="${channel.url}">
            Tu navegador no soporta el elemento video.
        </video>
    `;
    
    // Agregar evento de doble click al nuevo video
    const videoElement = videoPlayer.querySelector('video');
    if (videoElement) {
        videoElement.addEventListener('dblclick', toggleFullscreen);
    }
}

/* --- FUNCIONES DE PANTALLA COMPLETA --- */
function toggleFullscreen() {
    const container = document.getElementById("videoPlayerContainer");
    
    if (!document.fullscreenElement) {
        // Entrar en pantalla completa
        if (container.requestFullscreen) {
            container.requestFullscreen();
        } else if (container.webkitRequestFullscreen) {
            container.webkitRequestFullscreen();
        } else if (container.msRequestFullscreen) {
            container.msRequestFullscreen();
        }
    } else {
        // Salir de pantalla completa
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) {
            document.msExitFullscreen();
        }
    }
}

// Detectar cambios en pantalla completa
document.addEventListener('fullscreenchange', updateFullscreenIndicator);
document.addEventListener('webkitfullscreenchange', updateFullscreenIndicator);
document.addEventListener('mozfullscreenchange', updateFullscreenIndicator);
document.addEventListener('MSFullscreenChange', updateFullscreenIndicator);

function updateFullscreenIndicator() {
    const indicator = document.getElementById('fullscreenIndicator');
    if (document.fullscreenElement) {
        indicator.style.display = 'block';
    } else {
        indicator.style.display = 'none';
    }
}

// Botón de pantalla completa
document.getElementById('fullscreenButton').addEventListener('click', toggleFullscreen);

// Inicializar
loadCategories();
</script>

</body>
</html>
